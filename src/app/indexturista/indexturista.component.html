<div>
    <h1 class="text-style">Publicaciones</h1>
    <div *ngIf="(this.filter != '')">
        <mat-chip-list>
            <mat-chip [removable]="removable" (removed)="remove()">{{this.filter}}
                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
            </mat-chip>
        </mat-chip-list>
    </div>
    <mat-accordion *ngIf='this.adventur'>
        <mat-expansion-panel>
            <mat-expansion-panel-header>
                <mat-panel-title>
                    Crear experiencia
                </mat-panel-title>
                <mat-panel-description>
                    Despliegue para comenzar
                </mat-panel-description>
            </mat-expansion-panel-header>

            <div>
                <form [formGroup]="experienceForm" (ngSubmit)="onSubmit(experienceForm.value)">
                    <mat-form-field>
                        <mat-label>Título</mat-label>
                        <input matInput formControlName="name">
                    </mat-form-field>

                    <mat-form-field>
                        <mat-label>Lugar</mat-label>
                        <input matInput formControlName="province">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>País</mat-label>
                        <input matInput formControlName="country">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Descripción</mat-label>
                        <input matInput type="textarea" max="500" formControlName="description">
                    </mat-form-field>
                    <mat-form-field>
                        <mat-label>Precio</mat-label>
                        <input matInput type="number" min="1" formControlName="price">
                        <span matPrefix>€&nbsp;</span>
                        <span matSuffix>.00</span>
                    </mat-form-field>
                    <input type="file" formControlName="photo">
                    <button mat-raised-button color='primary' type="submit" id="createExperience">Crear</button>
                </form>
            </div>
        </mat-expansion-panel>
    </mat-accordion>
    <mat-card *ngFor="let exp of getExperiences()">
        <mat-card-header>
            <div mat-card-avatar class="example-header-image"></div>
            <mat-card-title>{{exp.name}}</mat-card-title>
            <mat-card-subtitle>{{exp.province}} </mat-card-subtitle>
        </mat-card-header>
        <div class="card-content-flex">
            <img src={{exp.photo}} alt="Photo">
            <div>
                {{exp.description | slice:0:250}}...
                <div class="experience-attr">
                    <p class="attr stars">
                        <mat-icon aria-label="" style="color: yellow;" *ngFor='let number of getRate(exp.rate)'>
                            grade</mat-icon>
                    </p>
                    <button class="attr" mat-button>
                        <mat-icon>visibility</mat-icon> {{getReviewInExperience(exp.id)}} reviews
                        <!--{{exp.reviews.length}} -->
                    </button>
                    <p class="attr bold">
                        <span matPrefix>€&nbsp;</span>
                        <mat-label>{{exp.price}}</mat-label>
                        <span matSuffix>.00</span>
                    </p>
                    <button class="attr view-button" mat-raised-button color="primary" [routerLink]="['/to/view_experience',exp.id]">Ver</button>
                </div>
            </div>
        </div>
    </mat-card>

</div>